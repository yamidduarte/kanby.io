"use strict";(self.webpackChunkkanby=self.webpackChunkkanby||[]).push([[414],{1414:(q,m,a)=>{a.r(m),a.d(m,{UserModule:()=>S});var l=a(9808),c=a(1402),d=a(5861),t=a(5e3),g=a(3385),r=a(3075),h=a(9224),p=a(7423),f=a(7322),b=a(7531);function C(o,i){1&o&&(t.TgZ(0,"div",13),t.TgZ(1,"h3"),t._uU(2,"Sign in to Kanby"),t.qZA(),t.qZA())}function Z(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"h3"),t._uU(2,"Create New Account"),t.qZA(),t.TgZ(3,"button",14),t.NdJ("click",function(){return t.CHM(n),t.oxw().changeType("login")}),t._uU(4," Returning user? "),t.qZA(),t.qZA()}}function v(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"h3"),t._uU(2,"Reset Password"),t.qZA(),t.TgZ(3,"button",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().changeType("login")}),t._uU(4,"Back"),t.qZA(),t.qZA()}}function x(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," You must enter a valid email address "),t.qZA())}function w(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password must be at least 6 characters long "),t.qZA())}function y(o,i){if(1&o&&(t.TgZ(0,"mat-form-field",16),t._UZ(1,"input",17),t.YNc(2,w,2,0,"mat-error",5),t.qZA()),2&o){const n=t.oxw();t.Q6J("color",(null==n.email?null:n.email.valid)&&"accent"),t.xp6(2),t.Q6J("ngIf",(null==n.password?null:n.password.invalid)&&(null==n.password?null:n.password.dirty))}}function T(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password does not match "),t.qZA())}function P(o,i){if(1&o&&(t.TgZ(0,"mat-form-field",3),t._UZ(1,"input",18),t.YNc(2,T,2,0,"mat-error",5),t.qZA()),2&o){const n=t.oxw();t.Q6J("color",n.passwordDoesMatch?"accent":"warn"),t.xp6(2),t.Q6J("ngIf",(null==n.passwordConfirm?null:n.passwordConfirm.dirty)&&!n.passwordDoesMatch)}}function A(o,i){if(1&o&&(t.TgZ(0,"button",19),t._uU(1," Send Reset Email "),t.qZA()),2&o){const n=t.oxw();t.Q6J("disabled",n.loading)}}function M(o,i){if(1&o&&(t.TgZ(0,"button",20),t._uU(1," Submit "),t.qZA()),2&o){const n=t.oxw();t.Q6J("disabled",n.form.invalid||!n.passwordDoesMatch||n.loading)}}function U(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(n),t.oxw().changeType("reset")}),t._uU(1," Forgot password? "),t.qZA()}}let L=(()=>{class o{constructor(n,e){this.afAuth=n,this.fb=e,this.form=this.fb.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.minLength(6),r.kI.required]],passwordConfirm:["",[]]}),this.type="signup",this.loading=!1,this.serverMessage=""}ngOnInit(){this.type="login"}changeType(n){this.type=n}get isLogin(){return"login"===this.type}get isSignup(){return"signup"===this.type}get isPasswordReset(){return"reset"===this.type}get email(){return this.form.get("email")}get password(){return this.form.get("password")}get passwordConfirm(){return this.form.get("passwordConfirm")}get passwordDoesMatch(){var n,e;return"signup"!==this.type||(null===(n=this.password)||void 0===n?void 0:n.value)===(null===(e=this.passwordConfirm)||void 0===e?void 0:e.value)}onSubmit(){var n=this;return(0,d.Z)(function*(){var e,s;n.loading=!0;const u=null===(e=n.email)||void 0===e?void 0:e.value,_=null===(s=n.password)||void 0===s?void 0:s.value;try{n.isLogin&&(yield n.afAuth.signInWithEmailAndPassword(u,_)),n.isSignup&&(yield n.afAuth.createUserWithEmailAndPassword(u,_)),n.isPasswordReset&&(yield n.afAuth.sendPasswordResetEmail(u),n.serverMessage="Check your email")}catch(Q){n.serverMessage=Q}n.loading=!1})()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.zQ),t.Y36(r.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-email-login"]],decls:20,vars:12,consts:[[1,"cardtainer"],["class","container",4,"ngIf"],[1,"experimental",3,"formGroup","ngSubmit"],[1,"inputstyle",3,"color"],["matInput","","formControlName","email","type","email","placeholder","Email","autocomplete","off",1,"emailfield"],[4,"ngIf"],["class","inputstylepw",3,"color",4,"ngIf"],["class","inputstyle",3,"color",4,"ngIf"],[1,"server-error"],["mat-stroked-button","","type","submit","class","ebutton",3,"disabled",4,"ngIf"],["mat-raised-button","","color","accent","type","submit","class","ebutton",3,"disabled",4,"ngIf"],["mat-button","","class","ebutton",3,"click",4,"ngIf"],["mat-raised-button","",1,"newbutton",3,"click"],[1,"container"],["mat-stroked-button","",1,"returningbutton",3,"click"],["size","small","mat-button","",1,"ebutton",3,"click"],[1,"inputstylepw",3,"color"],["matInput","","formControlName","password","type","password","placeholder","Password","autocomplete","off"],["matInput","","formControlName","passwordConfirm","type","password","placeholder","Confirm password","autocomplete","off"],["mat-stroked-button","","type","submit",1,"ebutton",3,"disabled"],["mat-raised-button","","color","accent","type","submit",1,"ebutton",3,"disabled"],["mat-button","",1,"ebutton",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-card",0),t.YNc(1,C,3,0,"div",1),t.YNc(2,Z,5,0,"div",1),t.YNc(3,v,5,0,"div",1),t.TgZ(4,"form",2),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"mat-form-field",3),t._UZ(6,"input",4),t.YNc(7,x,2,0,"mat-error",5),t.qZA(),t.YNc(8,y,3,2,"mat-form-field",6),t.YNc(9,P,3,2,"mat-form-field",7),t.TgZ(10,"mat-error",8),t._uU(11),t.qZA(),t.YNc(12,A,2,1,"button",9),t.YNc(13,M,2,1,"button",10),t.qZA(),t.YNc(14,U,2,0,"button",11),t._UZ(15,"br"),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"button",12),t.NdJ("click",function(){return e.changeType("signup")}),t.TgZ(18,"h4"),t._uU(19,"\u{1f33f} Create New Account\n"),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",e.isLogin),t.xp6(1),t.Q6J("ngIf",e.isSignup),t.xp6(1),t.Q6J("ngIf",e.isPasswordReset),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("color",(null==e.email?null:e.email.valid)&&"accent"),t.xp6(2),t.Q6J("ngIf",(null==e.email?null:e.email.invalid)&&(null==e.email?null:e.email.dirty)),t.xp6(1),t.Q6J("ngIf",!e.isPasswordReset),t.xp6(1),t.Q6J("ngIf",e.isSignup),t.xp6(2),t.Oqu(e.serverMessage),t.xp6(1),t.Q6J("ngIf",e.isPasswordReset),t.xp6(1),t.Q6J("ngIf",!e.isPasswordReset),t.xp6(1),t.Q6J("ngIf",e.isLogin&&!e.isPasswordReset))},directives:[h.a8,l.O5,p.lW,r._Y,r.JL,r.sg,f.KE,b.Nt,r.Fj,r.JJ,r.u,f.TO],styles:["button[_ngcontent-%COMP%]{padding:1px 26px;flex-direction:column;transform:translateY(20%)}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.1em;transform:translate(-15%,20%)}.newbutton[_ngcontent-%COMP%]{padding:1px 28px;flex-direction:column;transform:scale(1.02)}.newbutton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.1em;transform:translate(-15%,20%)}h4[_ngcontent-%COMP%]{color:#6b6b6b;transform:translateY(36%);line-height:100%;font-size:1.35em}.returningbutton[_ngcontent-%COMP%]{font-weight:500;color:#6b6b6b;transform:translateY(20%);line-height:100%;font-size:1em;padding:8px 24px;flex-direction:column}h3[_ngcontent-%COMP%]{font-weight:500;color:#6b6b6b;transform:translateY(20%);line-height:100%;font-size:1.35em}.experimental[_ngcontent-%COMP%]{border:none}.container[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:100%;border:none;color:#000;font-weight:700;font-style:italic;font-size:18px}.emailfield[_ngcontent-%COMP%]{font-size:18px}.cardtainer[_ngcontent-%COMP%]{border-radius:7px;display:block;margin-left:auto;margin-right:auto;background-color:#fff;width:20%;border:none;color:#006eff;font-weight:700;font-style:italic;box-shadow:0 0 6px #929292}.inputstyle[_ngcontent-%COMP%]{display:block;background:#f5e9e7;border-radius:5px;margin-top:2em;font-style:italic;font-size:18px;text-indent:.4em;height:3.23em;border:none;color:#05787d;box-shadow:inset 2px 2px 3px #8b8b8b}.inputstylepw[_ngcontent-%COMP%]{display:block;background:#f5e9e7;border-radius:5px;margin-top:2em;font-style:italic;font-size:18px;text-indent:.4em;height:3.1em;border:none;color:#05787d;box-shadow:inset 2px 2px 3px #8b8b8b}.ebutton[_ngcontent-%COMP%]{margin-top:.7em;margin-bottom:.7em}h1[_ngcontent-%COMP%]{color:#000;font-weight:700;font-size:56px;text-align:center}[_nghost-%COMP%]{text-align:center}.logout[_ngcontent-%COMP%]{padding-top:5em}"]}),o})();var O=a(127);let I=(()=>{class o{constructor(n){this.afAuth=n}onclick(){this.afAuth.signInWithPopup(new O.Z.auth.GoogleAuthProvider)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.zQ))},o.\u0275dir=t.lG2({type:o,selectors:[["","appGoogleSignin",""]],hostBindings:function(n,e){1&n&&t.NdJ("click",function(){return e.onclick()})}}),o})();function k(o,i){1&o&&(t.TgZ(0,"div",4),t._uU(1," \xa0 "),t._UZ(2,"h1"),t._uU(3," \xa0 "),t._UZ(4,"p"),t._UZ(5,"app-email-login"),t._UZ(6,"br"),t._UZ(7,"p"),t.TgZ(8,"button",5),t.TgZ(9,"h3"),t._UZ(10,"img",6),t._uU(11," Continue with Google "),t.qZA(),t.qZA(),t.qZA())}function E(o,i){if(1&o&&(t.TgZ(0,"div",7),t.TgZ(1,"p"),t._uU(2," Logging in as "),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5," \u2714\ufe0f "),t.qZA(),t.qZA()),2&o){const n=i.ngIf;t.xp6(4),t.Oqu(n.email)}}const J=[{path:"",component:(()=>{class o{constructor(n,e){this.afAuth=n,this.router=e}ngOnInit(){var n=this;return(0,d.Z)(function*(){n.afAuth.authState.subscribe(e=>{e&&e.uid&&n.router.navigate(["/kanban"])})})()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.zQ),t.Y36(c.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login-page"]],decls:6,vars:6,consts:[[1,"maincanvas"],["class","container",4,"ngIf"],["class","afterloginstatus","routerLink","/kanban",4,"ngIf"],[1,"afterlogin"],[1,"container"],["mat-raised-button","","appGoogleSignin",""],["src","/assets/google-logo.svg"],["routerLink","/kanban",1,"afterloginstatus"]],template:function(n,e){1&n&&(t.TgZ(0,"main",0),t.YNc(1,k,12,0,"div",1),t.ALo(2,"async"),t.YNc(3,E,6,1,"div",2),t.ALo(4,"async"),t._UZ(5,"div",3),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",!t.lcZ(2,2,e.afAuth.authState)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,4,e.afAuth.authState)))},directives:[l.O5,L,p.lW,I,c.rH],pipes:[l.Ov],styles:[".maincanvas[_ngcontent-%COMP%]{background:linear-gradient(#efddd9,#fff)}button[_ngcontent-%COMP%]{padding:1px 26px;flex-direction:column;transform:translateY(20%)}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.1em;transform:translate(-15%,20%)}h5[_ngcontent-%COMP%]{font-size:16px;margin-top:3em;margin-bottom:2em}h3[_ngcontent-%COMP%]{color:#6b6b6b;transform:translateY(20%);line-height:100%;font-size:1.35em}.container[_ngcontent-%COMP%]{color:#7a7a7a;font-weight:700;font-style:italic;font-size:24px}h1[_ngcontent-%COMP%]{color:#3b3b3b;font-weight:700;font-size:40px;text-align:center}[_nghost-%COMP%]{text-align:center}.afterloginstatus[_ngcontent-%COMP%]{padding-top:2em}.afterlogin[_ngcontent-%COMP%]{padding-top:3em;color:#3b3b3b;font-weight:700;text-align:center;transform:translateY(20%)}"]}),o})()}];let Y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(J)],c.Bz]}),o})();var N=a(4466);let S=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,Y,N.m,r.UX]]}),o})()}}]);